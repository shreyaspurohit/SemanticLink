(function(b){var a={normalize:function(d){var c=Math.max.apply(null,d.map(function(f){return f.tagStrength}));var e=d.map(function(f){f.tagStrength=f.tagStrength/c;return f});return e},stepsPerLevel:function(c){return 1/c.numberOfLevel},calculatefontSizePerc:function(e,g,d){var f=e.tagStrength/g;var c=d.baseFontSizePerc+d.perLevelFontDiffPerc*f;return c}};b.fn.generateTagCloud=function(e,d){if(e){if(typeof e==="string"){e=b.parseJSON(e)}var c=b.extend({numberOfLevel:5,perLevelFontDiffPerc:20,baseFontSizePerc:100},d);this.append('<ul id="tagCloudUl"></ul>');var f=a.stepsPerLevel(c);a.normalize(e).forEach(function(h){var g=a.calculatefontSizePerc(h,f,c);if(undefined!==h.tagUrl){b("#tagCloudUl").append(b('<li style="font-size:'+g+'%;"><a href="'+h.tagUrl+'">'+h.tagName+"</a></li>"))}else{b("#tagCloudUl").append(b('<li style="font-size:'+g+'%;"> <label>'+h.tagName+" </label></li>"))}})}}})(jQuery);